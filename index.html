<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CinemaAI - Movie Genre Predictor</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #000000 0%, #1a1a1a 50%, #0d0d0d 100%);
            color: #fff;
            overflow-x: hidden;
            min-height: 100vh;
        }
        
        /* Floating Popcorn Animation */
        .popcorn {
            position: fixed;
            font-size: 2rem;
            animation: float 6s ease-in-out infinite;
            opacity: 0.3;
            z-index: 1;
            pointer-events: none;
        }
        
        .popcorn:nth-child(1) { top: 10%; left: 10%; animation-delay: 0s; }
        .popcorn:nth-child(2) { top: 20%; right: 15%; animation-delay: 2s; }
        .popcorn:nth-child(3) { top: 60%; left: 5%; animation-delay: 4s; }
        .popcorn:nth-child(4) { bottom: 20%; right: 10%; animation-delay: 1s; }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        /* Header */
        .header {
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            border-bottom: 2px solid #e50914;
        }
        
        .logo {
            font-size: 2rem;
            font-weight: 700;
            color: #e50914;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 100px 2rem 2rem;
        }
        
        .hero {
            text-align: center;
            padding: 3rem 0;
            background: linear-gradient(45deg, rgba(229, 9, 20, 0.1), rgba(255, 255, 255, 0.05));
            border-radius: 20px;
            margin-bottom: 3rem;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, rgba(229, 9, 20, 0.1), transparent);
            animation: rotate 10s linear infinite;
            z-index: -1;
        }
        
        @keyframes rotate {
            100% { transform: rotate(360deg); }
        }
        
        .hero h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #e50914, #ff6b6b, #ffd93d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(229, 9, 20, 0.5);
        }
        
        .hero p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* Movie Posters Section */
        .posters-section {
            margin: 3rem 0;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .posters-section h2 {
            text-align: center;
            margin-bottom: 2rem;
            color: #ffd93d;
            font-size: 2rem;
        }
        
        .posters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .poster-placeholder {
            aspect-ratio: 2/3;
            background: linear-gradient(135deg, #e50914, #b71c1c);
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .poster-placeholder:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 20px 40px rgba(229, 9, 20, 0.4);
        }
        
        .poster-placeholder::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }
        
        .poster-placeholder:hover::before {
            transform: translateX(100%);
        }
        
        .poster-placeholder span {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        .poster-placeholder p {
            font-weight: 600;
            text-align: center;
            padding: 0 1rem;
        }
        
        /* New CSS for poster images */
        .poster img {
            width: 100%;
            height: 320px;      /* Fixed height for all posters */
            object-fit: cover;  /* Ensures image fills the area and keeps aspect ratio */
            border-radius: 10px 10px 0 0;
            display: block;
            background: #222;
            box-shadow: 0 4px 16px rgba(0,0,0,0.15);
            margin-bottom: 0.5rem;
        }
        
        /* Model Section */
        .model-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin: 3rem 0;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            position: relative;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(229, 9, 20, 0.2);
        }
        
        .card h2 {
            color: #ffd93d;
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
        }
        
        .input-group {
            margin-bottom: 1.5rem;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #fff;
        }
        
        textarea {
            width: 100%;
            padding: 1rem;
            border: none;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            resize: vertical;
            min-height: 120px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }
        
        textarea:focus {
            outline: none;
            border-color: #e50914;
            box-shadow: 0 0 20px rgba(229, 9, 20, 0.3);
        }
        
        textarea::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }
        
        .btn {
            background: linear-gradient(45deg, #e50914, #ff6b6b);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            transform-style: preserve-3d;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(229, 9, 20, 0.4);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .result {
            margin-top: 1.5rem;
            padding: 1.5rem;
            background: linear-gradient(135deg, rgba(255, 215, 61, 0.2), rgba(229, 9, 20, 0.2));
            border-radius: 15px;
            border-left: 4px solid #ffd93d;
            backdrop-filter: blur(10px);
        }
        
        .result h3 {
            color: #ffd93d;
            margin-bottom: 1rem;
        }
        
        /* Floating Action Buttons */
        .floating-buttons {
            position: fixed;
            right: 2rem;
            bottom: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            z-index: 1000;
        }
        
        .fab {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(45deg, #e50914, #ff6b6b);
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 20px rgba(229, 9, 20, 0.3);
        }
        
        .fab:hover {
            transform: scale(1.1) rotate(15deg);
            box-shadow: 0 15px 30px rgba(229, 9, 20, 0.5);
        }
        
        /* Model Status */
        .status {
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 10px;
            text-align: center;
            font-weight: 600;
        }
        
        .status.loading {
            background: linear-gradient(45deg, rgba(255, 193, 7, 0.2), rgba(255, 152, 0, 0.2));
            color: #ffc107;
            border: 1px solid rgba(255, 193, 7, 0.3);
        }
        
        .status.ready {
            background: linear-gradient(45deg, rgba(76, 175, 80, 0.2), rgba(129, 199, 132, 0.2));
            color: #4caf50;
            border: 1px solid rgba(76, 175, 80, 0.3);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .model-section {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .posters-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .floating-buttons {
                right: 1rem;
                bottom: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Floating Popcorns -->
    <div class="popcorn">üçø</div>
    <div class="popcorn">üé¨</div>
    <div class="popcorn">üçø</div>
    <div class="popcorn">üé≠</div>
    
    <!-- Header -->
    <div class="header">
        <div class="logo">CinemaAI</div>
    </div>
    
    <!-- Main Container -->
    <div class="container">
        <!-- Hero Section -->
        <div class="hero">
            <h1>Movie Genre Predictor</h1>
            <p>Discover the genre of any movie using advanced AI. Just describe the plot and let our machine learning model predict the genre with incredible accuracy!</p>
        </div>
        
            <!-- Tamil Movie Posters Section -->
            <!-- Featured Tamil Cinema -->
    <div class="posters-section">
    <h2>üé¨ Featured Tamil Cinema üé¨</h2>
    <div class="posters-grid">

        <!-- Baahubali -->
        <div class="poster" onclick="loadPosterImage(this, 'baahubali.png')">
        <img src="bahubali.png" alt="Baahubali Poster">
        <p>üé¨ Baahubali <br><small>Epic Action</small></p>
        </div>

        <!-- Vikram -->
        <div class="poster" onclick="loadPosterImage(this, 'vikram.png')">
        <img src="vikram.png" alt="Vikram Poster">
        <p>üî´ Vikram <br><small>Action Thriller</small></p>
        </div>

        <!-- KGF -->
        <div class="poster" onclick="loadPosterImage(this, 'kgf.png')">
        <img src="k.g.f.png" alt="KGF Poster">
        <p>‚öîÔ∏è K.G.F <br><small>Period Action</small></p>
        </div>

        <!-- Master -->
        <div class="poster" onclick="loadPosterImage(this, 'master.png')">
        <img src="master.png" alt="Master Poster">
        <p>üé≠ Master <br><small>Action Drama</small></p>
        </div>

        <!-- RRR -->
        <div class="poster" onclick="loadPosterImage(this, 'rrr.png')">
        <img src="rrr (2).png" alt="RRR Poster">
        <p>üî• RRR <br><small>Period Action</small></p>
        </div>

        <!-- Pushpa -->
        <div class="poster" onclick="loadPosterImage(this, 'pushpa.png')">
        <img src="pushpa.png" alt="Pushpa Poster">
        <p>üåø Pushpa <br><small>Action Crime</small></p>
        </div>

    </div>

    <p style="text-align: center; opacity: 0.7; font-size: 0.9rem;">
        üìÇ To add more movie posters: Place images inside an <b>images</b> folder in your project and update the <code>src</code> paths above.
    </p>
    </div>


            <p style="text-align: center; opacity: 0.7; font-size: 0.9rem;">
                üìÅ To add your movie posters: Create an "images" folder in your project directory and place your poster images there.<br>
                Rename the onclick functions above with your actual image filenames.
            </p>
        </div>
        
        <!-- Model Section -->
        <div class="model-section">
            <!-- Training Section -->
            <div class="card">
                <h2>ü§ñ AI Model Training</h2>
                <div id="modelStatus" class="status loading">
                    üîÑ Initializing Machine Learning Model...
                </div>
                <div class="input-group">
                    <button class="btn" onclick="trainModel()">
                        Train Model with Sample Data
                    </button>
                </div>
                <div id="trainingResults"></div>
            </div>
            
            <!-- Prediction Section -->
            <div class="card">
                <h2>üéØ Genre Prediction</h2>
                <div class="input-group">
                    <label for="plotInput">Movie Plot Summary:</label>
                    <textarea 
                        id="plotInput" 
                        placeholder="Enter a movie plot summary here... For example: 'A superhero saves the world from aliens' or 'Two people fall in love despite their families being enemies'"
                        rows="6"
                    ></textarea>
                </div>
                <div class="input-group">
                    <button class="btn" onclick="predictGenre()">
                        üé¨ Predict Genre
                    </button>
                </div>
                <div id="predictionResult"></div>
            </div>
        </div>
    </div>
    
    <!-- Floating Action Buttons -->
    <div class="floating-buttons">
        <button class="fab" onclick="scrollToTop()" title="Scroll to Top">
            ‚¨ÜÔ∏è
        </button>
        <button class="fab" onclick="clearResults()" title="Clear Results">
            üßπ
        </button>
        <button class="fab" onclick="toggleTheme()" title="Toggle Theme">
            üåô
        </button>
    </div>
    
    <script>
        // Machine Learning Implementation
        class MovieGenrePredictor {
            constructor() {
                this.vocabulary = new Map();
                this.idf = new Map();
                this.model = null;
                this.genres = ['Action', 'Comedy', 'Drama', 'Horror', 'Romance', 'Thriller', 'Sci-Fi', 'Fantasy'];
                this.isReady = false;
            }
            
            // Text preprocessing
            preprocessText(text) {
                // Convert to lowercase and remove special characters
                text = text.toLowerCase().replace(/[^\w\s]/g, ' ');
                
                // Tokenization
                const tokens = text.split(/\s+/).filter(token => token.length > 1);
                
                // Remove common stopwords
                const stopwords = new Set([
                    'the', 'a', 'an', 'and', 'or', 'but', 'in', 'on', 'at', 'to', 'for', 'of', 'with', 'by',
                    'is', 'are', 'was', 'were', 'be', 'been', 'being', 'have', 'has', 'had', 'do', 'does',
                    'did', 'will', 'would', 'could', 'should', 'may', 'might', 'must', 'can', 'this', 'that',
                    'these', 'those', 'i', 'you', 'he', 'she', 'it', 'we', 'they', 'me', 'him', 'her', 'us', 'them'
                ]);
                
                return tokens.filter(token => !stopwords.has(token));
            }
            
            // Build vocabulary from training data
            buildVocabulary(texts) {
                const wordFreq = new Map();
                const docFreq = new Map();
                
                texts.forEach(text => {
                    const tokens = this.preprocessText(text);
                    const uniqueTokens = new Set(tokens);
                    
                    tokens.forEach(token => {
                        wordFreq.set(token, (wordFreq.get(token) || 0) + 1);
                    });
                    
                    uniqueTokens.forEach(token => {
                        docFreq.set(token, (docFreq.get(token) || 0) + 1);
                    });
                });
                
                // Build vocabulary (top 1000 most frequent words)
                const sortedWords = Array.from(wordFreq.entries())
                    .sort((a, b) => b[1] - a[1])
                    .slice(0, 1000);
                
                this.vocabulary.clear();
                sortedWords.forEach(([word], index) => {
                    this.vocabulary.set(word, index);
                });
                
                // Calculate IDF values
                const totalDocs = texts.length;
                this.vocabulary.forEach((index, word) => {
                    const df = docFreq.get(word) || 1;
                    this.idf.set(word, Math.log(totalDocs / df));
                });
            }
            
            // Convert text to TF-IDF vector
            textToTfIdf(text) {
                const tokens = this.preprocessText(text);
                const vector = new Array(this.vocabulary.size).fill(0);
                const tokenCounts = new Map();
                
                // Count token frequencies
                tokens.forEach(token => {
                    if (this.vocabulary.has(token)) {
                        tokenCounts.set(token, (tokenCounts.get(token) || 0) + 1);
                    }
                });
                
                // Calculate TF-IDF
                tokenCounts.forEach((count, token) => {
                    const index = this.vocabulary.get(token);
                    const tf = count / tokens.length;
                    const idf = this.idf.get(token) || 0;
                    vector[index] = tf * idf;
                });
                
                return vector;
            }
            
            // Simple Naive Bayes classifier
            trainNaiveBayes(X, y) {
                const classes = [...new Set(y)];
                const model = {
                    classes: classes,
                    classProbabilities: new Map(),
                    featureProbabilities: new Map()
                };
                
                // Calculate class probabilities
                classes.forEach(cls => {
                    const classCount = y.filter(label => label === cls).length;
                    model.classProbabilities.set(cls, classCount / y.length);
                    model.featureProbabilities.set(cls, new Array(X[0].length).fill(0));
                });
                
                // Calculate feature probabilities for each class
                X.forEach((features, i) => {
                    const cls = y[i];
                    const classFeatures = model.featureProbabilities.get(cls);
                    features.forEach((value, j) => {
                        classFeatures[j] += value;
                    });
                });
                
                // Normalize feature probabilities
                classes.forEach(cls => {
                    const classFeatures = model.featureProbabilities.get(cls);
                    const classCount = y.filter(label => label === cls).length;
                    for (let i = 0; i < classFeatures.length; i++) {
                        classFeatures[i] = (classFeatures[i] + 1) / (classCount + 2); // Laplace smoothing
                    }
                });
                
                this.model = model;
                this.isReady = true;
            }
            
            // Predict genre
            predict(text) {
                if (!this.isReady) {
                    throw new Error('Model not trained yet');
                }
                
                const features = this.textToTfIdf(text);
                const scores = new Map();
                
                this.model.classes.forEach(cls => {
                    let score = Math.log(this.model.classProbabilities.get(cls));
                    const classFeatures = this.model.featureProbabilities.get(cls);
                    
                    features.forEach((value, i) => {
                        if (value > 0) {
                            score += Math.log(classFeatures[i]) * value;
                        }
                    });
                    
                    scores.set(cls, score);
                });
                
                // Return sorted predictions
                return Array.from(scores.entries())
                    .sort((a, b) => b[1] - a[1])
                    .map(([genre, score]) => ({
                        genre: genre,
                        confidence: Math.exp(score) / Array.from(scores.values()).reduce((sum, s) => sum + Math.exp(s), 0)
                    }));
            }
        }
        
        // Global model instance
        let predictor = new MovieGenrePredictor();
        
        // Sample training data
        const sampleData = {
            plots: [
                // Action
                "A retired soldier fights terrorists to save his family.",
                "A police officer goes undercover to infiltrate a crime syndicate.",
                "A superhero with incredible strength fights against evil villains to save the world from destruction.",
                "A group of mercenaries are hired to rescue hostages from a war zone.",
                "A secret agent must stop a nuclear bomb from detonating in a major city.",
                // Comedy
                "A group of friends go on a hilarious adventure filled with misunderstandings and comedy.",
                "A comedian tries to win a stand-up contest.",
                "A family vacation goes wrong in the funniest ways.",
                "A man wakes up in a woman's body and must navigate her life.",
                "A clumsy chef accidentally becomes a TV star.",
                // Drama
                "A couple's relationship is tested when they face a terminal illness.",
                "A family struggles to stay together during hard times.",
                "A young woman overcomes adversity to achieve her dreams.",
                "A lawyer fights for justice in a corrupt system.",
                "A teacher inspires students in an underprivileged school.",
                // Horror
                "A mysterious killer stalks teenagers in a small town during Halloween night.",
                "A haunted house traps visitors who must solve its mysteries to escape.",
                "Zombies attack a city and survivors must find a way to escape.",
                "A group of friends are hunted by a supernatural entity.",
                "A cursed videotape brings death to those who watch it.",
                // Romance
                "Two people from different backgrounds fall in love despite their families being enemies.",
                "A couple meets in college and overcomes obstacles to be together.",
                "A love triangle develops between childhood friends.",
                "A prince falls for a commoner and must choose between love and duty.",
                "A woman finds love again after heartbreak.",
                // Thriller
                "A detective investigates a series of murders while being hunted by the killer.",
                "A spy must complete a dangerous mission to prevent world war.",
                "A hacker discovers a conspiracy that goes to the highest levels of government.",
                "A journalist uncovers a deadly secret.",
                "A man is framed for a crime he didn't commit and must prove his innocence.",
                // Sci-Fi
                "Aliens invade Earth and humanity must fight back using advanced technology.",
                "A scientist invents a time machine and travels to the future.",
                "A dystopian society controls its citizens with technology.",
                "A robot gains consciousness and questions its existence.",
                "A crew explores a distant planet and encounters strange life forms.",
                // Fantasy
                "A wizard embarks on a quest to destroy an ancient evil ring.",
                "A young woman discovers she has magical powers and must save her kingdom.",
                "A dragon threatens a medieval kingdom and a knight must defeat it.",
                "A boy finds a portal to a magical world.",
                "A prophecy foretells the rise of a hero who will defeat darkness."
            ],
            genres: [
                // Action
                "Action", "Action", "Action", "Action", "Action",
                // Comedy
                "Comedy", "Comedy", "Comedy", "Comedy", "Comedy",
                // Drama
                "Drama", "Drama", "Drama", "Drama", "Drama",
                // Horror
                "Horror", "Horror", "Horror", "Horror", "Horror",
                // Romance
                "Romance", "Romance", "Romance", "Romance", "Romance",
                // Thriller
                "Thriller", "Thriller", "Thriller", "Thriller", "Thriller",
                // Sci-Fi
                "Sci-Fi", "Sci-Fi", "Sci-Fi", "Sci-Fi", "Sci-Fi",
                // Fantasy
                "Fantasy", "Fantasy", "Fantasy", "Fantasy", "Fantasy"
            ]
        };
        
        // Train the model
        async function trainModel() {
            const statusDiv = document.getElementById('modelStatus');
            const resultsDiv = document.getElementById('trainingResults');
            
            try {
                statusDiv.innerHTML = 'üîÑ Training machine learning model...';
                statusDiv.className = 'status loading';
                
                // Simulate training time
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // Build vocabulary and train model
                predictor.buildVocabulary(sampleData.plots);
                
                // Convert texts to TF-IDF vectors
                const X = sampleData.plots.map(plot => predictor.textToTfIdf(plot));
                const y = sampleData.genres;
                
                // Train the model
                predictor.trainNaiveBayes(X, y);
                
                // Estimate training accuracy (not real test accuracy)
                let correct = 0;
                for (let i = 0; i < X.length; i++) {
                    const pred = predictor.predict(sampleData.plots[i])[0].genre;
                    if (pred === y[i]) correct++;
                }
                const accuracy = (correct / X.length * 100).toFixed(1);
                
                statusDiv.innerHTML = '‚úÖ Model trained successfully!';
                statusDiv.className = 'status ready';
                
                // Show training results
                resultsDiv.innerHTML = `
                    <div class="result">
                        <h3>üéØ Training Complete!</h3>
                        <p><strong>Dataset Size:</strong> ${sampleData.plots.length} movie plots</p>
                        <p><strong>Vocabulary Size:</strong> ${predictor.vocabulary.size} unique words</p>
                        <p><strong>Genre Classes:</strong> ${predictor.model.classes.join(', ')}</p>
                        <p><strong>Algorithm:</strong> Naive Bayes with TF-IDF features</p>
                        <p><strong>Training Accuracy:</strong> ${accuracy}%</p>
                        <p>üöÄ The model is now ready for predictions!</p>
                    </div>
                `;
                
            } catch (error) {
                statusDiv.innerHTML = '‚ùå Training failed: ' + error.message;
                statusDiv.className = 'status loading';
            }
        }
        
        // Predict genre function
        async function predictGenre() {
            const plotInput = document.getElementById('plotInput').value.trim();
            const resultDiv = document.getElementById('predictionResult');
            
            if (!plotInput) {
                resultDiv.innerHTML = `
                    <div class="result">
                        <h3>‚ö†Ô∏è Input Required</h3>
                        <p>Please enter a movie plot summary to predict its genre.</p>
                    </div>
                `;
                return;
            }
            
            if (!predictor.isReady) {
                resultDiv.innerHTML = `
                    <div class="result">
                        <h3>‚ö†Ô∏è Model Not Ready</h3>
                        <p>Please train the model first by clicking the "Train Model" button.</p>
                    </div>
                `;
                return;
            }
            
            try {
                resultDiv.innerHTML = '<div class="result">üîÑ Analyzing plot and predicting genre...</div>';
                
                // Simulate prediction time
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                // Make prediction
                const predictions = predictor.predict(plotInput);
                
                // Display results
                const topPrediction = predictions[0];
                const allPredictions = predictions.slice(0, 3);
                
                resultDiv.innerHTML = `
                    <div class="result">
                        <h3>üé¨ Genre Prediction Results</h3>
                        <div style="margin: 1rem 0; padding: 1rem; background: rgba(229, 9, 20, 0.1); border-radius: 10px; border-left: 4px solid #e50914;">
                            <h4 style="color: #e50914; margin-bottom: 0.5rem;">Most Likely Genre:</h4>
                            <p style="font-size: 1.3rem; font-weight: 700; color: #ffd93d;">
                                ${topPrediction.genre} (${(topPrediction.confidence * 100).toFixed(1)}% confidence)
                            </p>
                        </div>
                        <h4 style="margin-top: 1rem; color: #ffd93d;">Top 3 Predictions:</h4>
                        ${allPredictions.map((pred, index) => `
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem 0; ${index < allPredictions.length - 1 ? 'border-bottom: 1px solid rgba(255, 255, 255, 0.1);' : ''}">
                                <span>${index + 1}. ${pred.genre}</span>
                                <span style="color: #ffd93d; font-weight: 600;">${(pred.confidence * 100).toFixed(1)}%</span>
                            </div>
                        `).join('')}
                    </div>
                `;
                
            } catch (error) {
                resultDiv.innerHTML = `
                    <div class="result">
                        <h3>‚ùå Prediction Error</h3>
                        <p>Error: ${error.message}</p>
                    </div>
                `;
            }
        }
        
        // Utility functions
        function loadPosterImage(element, filename) {
            const img = new Image();
            img.onload = function() {
                element.style.backgroundImage = `url('images/${filename}')`;
                element.style.backgroundSize = 'cover';
                element.style.backgroundPosition = 'center';
                element.innerHTML = '<div style="position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(transparent, rgba(0,0,0,0.8)); padding: 1rem; color: white;">' + element.innerHTML + '</div>';
            };
            img.onerror = function() {
                console.log(`Image ${filename} not found. Add your poster images to the 'images' folder.`);
                element.style.background = 'linear-gradient(135deg, #e50914, #b71c1c)';
            };
            img.src = `images/${filename}`;
        }
        
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        function clearResults() {
            document.getElementById('predictionResult').innerHTML = '';
            document.getElementById('trainingResults').innerHTML = '';
            document.getElementById('plotInput').value = '';
        }
        
        function toggleTheme() {
            document.body.style.filter = document.body.style.filter === 'invert(1) hue-rotate(180deg)' ? '' : 'invert(1) hue-rotate(180deg)';
        }
        
        // Auto-train model on page load
        window.addEventListener('load', function() {
            setTimeout(() => {
                trainModel();
            }, 1000);
        });
        
        // Add sample plot suggestions
        const samplePlots = [
            "A superhero saves the world from aliens",
            "Two people fall in love despite their families being enemies",
            "A group of friends get into hilarious misadventures",
            "A mysterious killer stalks teenagers in a small town",
            "A detective investigates a conspiracy that goes to the top",
            "Time travelers try to prevent an apocalyptic future",
            "A wizard must destroy an ancient evil artifact",
            "Zombies attack and survivors fight for their lives"
        ];
        
        function addSamplePlot() {
            const randomPlot = samplePlots[Math.floor(Math.random() * samplePlots.length)];
            document.getElementById('plotInput').value = randomPlot;
        }
        
        // Add keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'Enter') {
                predictGenre();
            }
            if (e.ctrlKey && e.key === 't') {
                trainModel();
            }
        });
        
        // Add interactive elements
        document.querySelectorAll('.poster-placeholder').forEach(poster => {
            poster.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-10px) scale(1.05) rotateY(10deg)';
            });
            
            poster.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0) scale(1) rotateY(0)';
            });
        });
        
        // Particle effect for buttons
        function createParticleEffect(element) {
            const rect = element.getBoundingClientRect();
            const particles = [];
            
            for (let i = 0; i < 15; i++) {
                const particle = document.createElement('div');
                particle.style.position = 'fixed';
                particle.style.left = rect.left + rect.width / 2 + 'px';
                particle.style.top = rect.top + rect.height / 2 + 'px';
                particle.style.width = '4px';
                particle.style.height = '4px';
                particle.style.background = '#ffd93d';
                particle.style.borderRadius = '50%';
                particle.style.pointerEvents = 'none';
                particle.style.zIndex = '9999';
                document.body.appendChild(particle);
                
                const angle = (Math.PI * 2 * i) / 15;
                const velocity = 3 + Math.random() * 2;
                const vx = Math.cos(angle) * velocity;
                const vy = Math.sin(angle) * velocity;
                
                let x = 0, y = 0, opacity = 1;
                
                const animate = () => {
                    x += vx;
                    y += vy;
                    opacity -= 0.03;
                    
                    particle.style.transform = `translate(${x}px, ${y}px)`;
                    particle.style.opacity = opacity;
                    
                    if (opacity > 0) {
                        requestAnimationFrame(animate);
                    } else {
                        document.body.removeChild(particle);
                    }
                };
                
                animate();
            }
        }
        
        // Add particle effects to buttons
        document.querySelectorAll('.btn, .fab').forEach(button => {
            button.addEventListener('click', function() {
                createParticleEffect(this);
            });
        });
    </script>
    
    <!-- Additional Features -->
    <div style="position: fixed; top: 50%; left: 20px; transform: translateY(-50%); z-index: 1000;">
        <button class="fab" onclick="addSamplePlot()" title="Add Sample Plot" style="margin-bottom: 1rem;">
            üí°
        </button>
        <div style="writing-mode: vertical-lr; color: rgba(255, 255, 255, 0.6); font-size: 0.8rem; margin-top: 1rem;">
            Ctrl+Enter: Predict | Ctrl+T: Train
        </div>
    </div>
    
    <!-- Footer -->
    <div style="text-align: center; padding: 2rem; margin-top: 3rem; border-top: 1px solid rgba(255, 255, 255, 0.1);">
        <p style="opacity: 0.7;">üé¨ Built with Machine Learning, TF-IDF Vectorization & Naive Bayes Classification</p>
        <p style="opacity: 0.5; font-size: 0.9rem; margin-top: 0.5rem;">
            Add your Tamil movie posters in the 'images' folder: baahubali.jpg, vikram.jpg, kgf.jpg, master.jpg, rrr.jpg, pushpa.jpg
        </p>
    </div>
</body>
</html>